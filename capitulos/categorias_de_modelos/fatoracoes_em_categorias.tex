\section{Fatorações em categorias}

\subsection{Morfismos projetivos e injetivos}

Uma parte essencial na definição de uma estrutura de modelos é a existência de fatorações de morfismos quaisquer em termos de cofibrações e fibrações satisfazendo condições de trivialidade, sendo que estas classes de morfismos se relacionam por propriedades de levantamento.
Podemos reformular isso em um contexto categórico mais amplo que nos permitirá deduzir algumas das propriedades básicas de categorias de modelos de forma mais transparente.
O conteúdo dessa seção é baseado principalmente em \cite{nlab:injective_or_projective_morphism}.

Inicialmente, analisamos as propriedades gerais de morfismos definidos em termos de propriedades de levantamento.

\begin{defin}\label{defin:morfismo_proj}
  Sejam $\mathsf{C}$ uma categoria e $K \subseteq \Mor(\mathsf{C})$ uma classe qualquer de morfismos.
  Dizemos que um morfismo $f: A \to B$ em $\mathsf{C}$ \textbf{satisfaz a propriedade de levantamento à esquerda com relação a $K$} se todo quadrado comutativo como abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  onde $p: X \to Y$ pertence a $K$, admite um levantamento, ou seja, existe um morfismo diagonal $\varphi: B \to X$ que faz comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "h" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  Dizemos também nesse caso que $f$ é um morfismo \textbf{$K$-projetivo}.
\end{defin}

\begin{exem}\label{exem:cofibs_sao_morfismos_proj}
  Os principais exemplos de morfismos projetivos nos quais estaremos interessados vêm da teoria de categorias de modelos.
  Segue diretamente do axioma de levantamento (M4) na \cref{defin:estrutura_de_modelos} que toda cofibração em uma categoria de modelos é um morfismo projetivo com relação à classe de fibrações triviais.
  Veremos na próxima seção que isso na verdade caracteriza as cofibrações em uma estrutura de modelos.
  Analogamente, o axioma (M4) também diz que toda cofibração trivial é projetiva com relação à classe de fibrações, e também veremos logo mais que essa propriedade de projetividade caracteriza as cofibrações triviais.
\end{exem}

\begin{exem}\label{exem:morfismo_zero_proj_sse_modulo_proj}
  Seja $R$ um anel e considere a categoria $R\mathsf{Mod}$ de $R$-módulos e homomorfismos de $R$-módulos.
  Considere também a classe $\mathrm{Epi} \subseteq \Mor(R\mathsf{Mod})$ formada por todos os epimorfismos de $R$-módulos.
  Dado um $R$-módulo $M$ qualquer, se $\mathbf{0}$ denota o $R$-módulo trivial, afirmamos que o morfismo trivial $0_M: \mathbf{0} \to M$ é projetivo com relação à classe $\mathrm{Epi}$ se, e somente se, $M$ é um $R$-módulo projetivo.

  Suponha inicialmente que $M$ seja um $R$-módulo projetivo, e considere o problema de levantamento indicado abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      \mathbf{0}
      \arrow[r, "0_A"]
      \arrow[d, "0_M" swap]
      & A
      \arrow[d, "p"]
      \\ M
      \arrow[r, "f" swap]
      & B
    \end{tikzcd}
  \end{displaymath}
  onde $p: A \to B$ é um epimorfismo de $R$-módulos.
  Graças à projetividade de $M$, o morfismo $f$ pode ser levantado através do epimorfismo $p$, ou seja, existe um morfismo $F: M \to A$ tal que $p \circ F = f$.
  Ora, como também vale a igualdade $F \circ 0_M = 0_A$, temos o diagrama comutativo abaixo;
  \begin{displaymath}
    \begin{tikzcd}
      \mathbf{0}
      \arrow[r, "0_A"]
      \arrow[d, "0_M" swap]
      & A
      \arrow[d, "p"]
      \\ M
      \arrow[r, "f" swap]
      \arrow[ru, dashed, "F" description]
      & B
    \end{tikzcd}
  \end{displaymath}
  mostrando que o problema de levantamento em questão possui uma solução e que, portanto, o morfismo $0_M$ é projetivo.

  Reciprocamente, suponha que o morfismo $0_M$ seja projetivo.
  A fim de mostrarmos que o $R$-módulo $M$ é projetivo, sejam $p: A \to B$ um epimorfismo de $R$-módulos, e $f: M \to B$ um morfismo qualquer.
  Como as composições $p \circ 0_A$ e $f \circ 0_M$ são ambas iguais ao morfismo trivial $0_B: \mathbf{0} \to B$, temos o problema de levantamento indicado abaixo, o qual admite uma solução $F: M \to A$ graças à projetividade de $0_M$.
  \begin{displaymath}
    \begin{tikzcd}
      \mathbf{0}
      \arrow[r, "0_A"]
      \arrow[d, "0_M" swap]
      & A
      \arrow[d, "p"]
      \\ M
      \arrow[r, "f" swap]
      \arrow[ru, dashed, "F" description]
      & B
    \end{tikzcd}
  \end{displaymath}
  Note então que pela comutatividade temos $p \circ F = f$, ou  seja, $F$ é o levantamento procurado para o morfismo $f$; mostrando assim a projetividade de $M$.
\end{exem}

O resultado abaixo reúne algumas das principais propriedades de morfismos $K$-projetivos.

\begin{prop}\label{prop:props_morfismos_proj}
  Sejam $\mathsf{C}$ uma categoria e $K \subseteq \Mor(\mathsf{C})$ uma classe de morfismos qualquer.
  \begin{enumerate}
    \item[(i)] Todo isomorfismo de $\mathsf{C}$ é um morfismo $K$-projetivo.
    
    \item[(ii)] Se $f_1: A \to B$ e $f_2: B \to C$ são morfismos $K$-projetivos, então o morfismo composto $f_2 \circ f_1: A \to C$ é também $K$-projetivo.

    \item[(iii)] Se $f_2: A_2 \to B_2$ é um retrato de $f_1: A_1 \to B_1$, e $f_1$ é um morfismo $K$-projetivo, então $f_2$ é também $K$-projetivo.
    
    \item[(iv)] Se o quadrado comutativo indicado abaixo é um pushout,
    \begin{displaymath}
      \begin{tikzcd}
        A_1
        \arrow[r, "\alpha"]
        \arrow[d, "f_1" swap]
        & A_2
        \arrow[d, "f_2"]
        \\ B_1
        \arrow[r, "\beta" swap]
        & B_2
      \end{tikzcd}
    \end{displaymath}
    e $f_1$ é $K$-projetivo, então $f_2$ também é $K$-projetivo.

    \item[(v)] Se $f_1: X_1 \to Y_1$ e $f_2: X_2 \to Y_2$ são morfismos $K$-projetivos, e existem os coprodutos $X_1 \sqcup X_2$ e $Y_1 \sqcup Y_2$, então o morfismo $f_1 \sqcup f_2: X_1 \sqcup X_2 \to Y_1 \sqcup Y_2$ é $K$-projetivo.
  \end{enumerate}
  Em suma, a classe $K\mathsf{Proj} \subseteq \Mor(\mathsf{C})$ formada por todos os morfismos $K$-projetivos contém todos os isomorfismos e é fechada por composições, retratos, pushouts, e coprodutos.
\end{prop}

\begin{proof}
  (i) Suponha que $f: A \to B$ seja um isomorfismo e considere o quadrado comutativo abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  onde $p$ é um morfismo qualquer pertencente à classe $K$.
  Sendo $f$ um isomorfismo, existe o morfismo inverso $f^{-1}: B \to Y$.
  Afirmamos então que $\alpha \circ f^{-1}: B \to X$ faz comutar o diagrama mostrado abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\alpha \circ f^{-1}" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  A comutatividade do triângulo superior é imediata, e a comutatividade do quadrado inferior segue da sequência de igualdades:
  \begin{align*}
    p \circ \alpha \circ f^{-1}
    & = \beta \circ f \circ f^{-1} \\
    & = \beta \circ \id_B \\
    & = \beta.
  \end{align*}

  \smallskip
  (ii) Considere um problema de levantamento como mostrado abaixo,
  \begin{equation}\label{eq:comp_K-proj_diag_1}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f_2 \circ f_1" swap]
      & X
      \arrow[d, "p"]
      \\ C
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{equation}
  onde $p$ é um morfismo qualquer pertence à classe $K$.
  Nosso objetivo é obter uma solução para esse problema de levantamento.

  O problema acima dá origem ao problema de levantamento indicado abaixo,
  \begin{equation*}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f_1" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta \circ f_2" swap]
      & Y
    \end{tikzcd}
  \end{equation*}
  e a $K$-projetividade de $f_1$ nos permite obter um morfismo $\varphi: B \to X$ resolvendo esse problema conforme indicado abaixo.
  \begin{equation}\label{eq:comp_K-proj_diag_3}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f_1" swap]
      & X
      \arrow[d, "p"]
      \\ B
      \arrow[r, "\beta \circ f_2" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  A comutatividade do diagrama acima dá origem ao problema de levantamento abaixo,
  \begin{equation*}
    \begin{tikzcd}
      B
      \arrow[r, "\varphi"]
      \arrow[d, "f_2" swap]
      &   X
      \arrow[d, "p"]
      \\ C
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{equation*}
  e a $K$-projetividade de $f_2$ nos permite obter agora um morfismo $\psi: C \to X$ fazendo comutar o diagrama abaixo.
  \begin{equation}\label{eq:comp_K-proj_diag_5}
    \begin{tikzcd}
      B
      \arrow[r, "\varphi"]
      \arrow[d, "f_2" swap]
      &   X
      \arrow[d, "p"]
      \\ C
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  Afirmamos que $\psi$ é a solução procurada para o problema de levantamento \eqref{eq:comp_K-proj_diag_1}, ou seja, afirmamos que o diagrama indicado abaixo é comutativo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "f_2 \circ f_1" swap]
      & X
      \arrow[d, "p"]
      \\ C
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  Note que a comutatividade do triângulo inferior segue imediatamente da comutatividade do diagrama \eqref{eq:comp_K-proj_diag_5}.
  Já a comutatividade do triângulo inferior segue da seguinte sequência de igualdades:
  \begin{align*}
    \psi \circ f_2 \circ f_1
    & = \varphi \circ f_1
    \tag{por \eqref{eq:comp_K-proj_diag_5}} \\
    & = \alpha.
    \tag{por \eqref{eq:comp_K-proj_diag_3}}
  \end{align*}

  \smallskip
  (iii) A hipótese de retração garante a existência de um diagrama comutativo como mostrado abaixo.
  \begin{equation}\label{eq:retracao_K-proj_diag_1}
    \begin{tikzcd}
      A_2
      \arrow[r, "s_1"]
      \arrow[d, "f_2" swap]
      \arrow[rr, bend left=45, "\id_{A_2}"]
      & A_1
      \arrow[r, "r_1"]
      \arrow[d, "f_1"]
      & A_2
      \arrow[d, "f_2"]
      \\ B_2
      \arrow[r, "s_2" swap]
      \arrow[rr, bend right=45, "\id_{B_2}" swap]
      & B_1
      \arrow[r, "r_2" swap]
      & B_2
    \end{tikzcd}
  \end{equation}

  Considere agora um problema de levantamento como mostrado abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A_2
      \arrow[r, "\alpha"]
      \arrow[d, "f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_2
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  onde $p$ é um morfismo qualquer pertencente à classe $K$.
  Usando este problema e os morfismos do diagrama de retração obtemos um outro problema de levantamento indicado abaixo, o qual admite uma solução $\varphi: B_1 \to X$ graças à projetividade de $f_1$.
  \begin{equation}\label{eq:retracao_K-proj_diag_3}
    \begin{tikzcd}
      A_1
      \arrow[r, "\alpha \circ r_1"]
      \arrow[d, "f_1" swap]
      & X
      \arrow[d, "p"]
      \\ B_1
      \arrow[r, "\beta \circ r_2" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  Afirmamos que o morfismo composto $\varphi \circ s_2: B_2 \to X$ é a solução procurada para o problema de levantamento considerado inicialmente, ou seja, que ele faz comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A_2
      \arrow[r, "\alpha"]
      \arrow[d, "f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_2
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\varphi \circ s_2" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  De fato, por um lado temos a sequência de igualdades
  \begin{align*}
    \varphi \circ s_2 \circ f_2
    & = \varphi \circ f_1 \circ s_1
    \tag{por \eqref{eq:retracao_K-proj_diag_1}} \\
    & = \alpha \circ r_1 \circ s_1
    \tag{por \eqref{eq:retracao_K-proj_diag_3}} \\
    & = \alpha \circ \id_{A_2}
    \tag{por \eqref{eq:retracao_K-proj_diag_1}} \\
    & = \alpha;
  \end{align*}
  e por outro temos a sequência de igualdades
  \begin{align*}
    p \circ \varphi \circ s_2
    & = \beta \circ r_2 \circ s_2
    \tag{por \eqref{eq:retracao_K-proj_diag_3}} \\
    & = \beta \circ \id_{B_2}
    \tag{por \eqref{eq:retracao_K-proj_diag_1}} \\
    & = \beta.
  \end{align*}

  \smallskip
  (iv) Considere um problema de levantamento como abaixo,
  \begin{equation}\label{eq:pushout_K-proj_diag_1}
    \begin{tikzcd}
      A_2
      \arrow[r, "\gamma"]
      \arrow[d, "f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_2
      \arrow[r, "\delta" swap]
      & Y
    \end{tikzcd}
  \end{equation}
  onde $p$ é um morfismo qualquer pertencente à classe $K$.

  Usando a comutavidade do quadrado acima obtemos o problema de levantamento indicado abaixo, o qual admite uma solução $\varphi: B_1 \to X$ graças à $K$-projetividade do morfismo $f_1$.
  \begin{equation}\label{eq:pushout_K-proj_diag_2}
    \begin{tikzcd}
      A_1
      \arrow[r, "\gamma \circ \alpha"]
      \arrow[d, "f_1" swap]
      & X
      \arrow[d, "p"]
      \\ B_1
      \arrow[r, "\delta \circ \beta" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  A comutatividade do triângulo superior no diagrama anterior diz precisamente que a ``camada externa'' do diagrama abaixo é comutativa, portanto a propriedade universal do pushout garante a existência de um único morfismo $\psi: B_2 \to X$ fazendo comutar o diagrama todo.
  \begin{equation}\label{eq:pushout_K-proj_diag_3}
    \begin{tikzcd}
      A_1
      \arrow[r, "\alpha"]
      \arrow[d, "f_1" swap]
      & A_2
      \arrow[d, "f_2"]
      \arrow[rdd, bend left=25, "\gamma"]
      \\ B_1
      \arrow[r, "\beta" swap]
      \arrow[rrd, bend right=25, "\varphi" swap]
      & B_2
      \arrow[rd, dashed, "\psi" description]
      \\ & & X
    \end{tikzcd}
  \end{equation}

  Vamos mostrar que $\psi$ é a solução procurada para o problema de levantamento \eqref{eq:pushout_K-proj_diag_1} considerado inicialmente.
  Veja inicialmente que a igualdade
  \begin{displaymath}
    \psi \circ f_2 = \gamma
  \end{displaymath}
  segue imediatamente da comutatividade de \eqref{eq:pushout_K-proj_diag_3}.
  A igualdade $p \circ \psi = \delta$ é um pouco mais sutil.
  Note primeiro que $\delta$ faz comutar o diagrama abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A_1
      \arrow[r, "\alpha"]
      \arrow[d, "f_1" swap]
      & A_2
      \arrow[d, "f_2"]
      \arrow[rdd, bend left=25, "p \circ \gamma"]
      \\ B_1
      \arrow[r, "\beta" swap]
      \arrow[rrd, bend right=25, "\delta \circ \beta" swap]
      & B_2
      \arrow[rd, dashed, "\delta" description]
      \\ & & Y
    \end{tikzcd}
  \end{displaymath}
  portanto pela propriedade universal do pushout sabemos que $\delta$ é na verdade o \emph{único} morfismo do tipo $B_2 \to Y$ que faz o diagrama acima comutar.
  Mas note que $p \circ \psi$ satisfaz as mesmas condições de comutatividade, já que por um lado
  \begin{displaymath}
    p \circ \psi \circ f_2 = g \circ \gamma
  \end{displaymath}
  graças à comutatividade de \eqref{eq:pushout_K-proj_diag_3}, e por outro
  \begin{align*}
    p \circ \psi \circ \beta
    & = p \circ \varphi
    \tag{por \eqref{eq:pushout_K-proj_diag_3}} \\
    & = \delta \circ \beta;
    \tag{por \eqref{eq:pushout_K-proj_diag_2}}
  \end{align*}
  e a igualdade desejada $p \circ \psi = \delta$ segue então da unicidade mencionada acima.

  \smallskip
  (v) Considere o problema de levantamento indicado abaixo,
  \begin{equation}\label{eq:coproduto_proj_diag_1}
    \begin{tikzcd}
      A_1 \sqcup A_2
      \arrow[r, "\alpha"]
      \arrow[d, "f_1 \sqcup f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_1 \sqcup B_2
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{equation}
  onde $p$ é um morfismo qualquer pertencente à classe $K$.
  Considere também as injeções canônicas $i_1: A_1 \to A_1 \sqcup A_2$, $i_2: A_2 \to A_1 \sqcup A_2$, $j_1: B_1 \to B_1 \sqcup B_2$ e $j_2: B_2 \to B_1 \sqcup B_2$ nos respectivos coprodutos.

  A comutatividade do quadrado acima nos permite obter o problema de levantamento indicado abaixo, o qual admite uma solução $\varphi: B_1 \to X$ graças à projetividade do morfismo $f_1$.
  \begin{equation}\label{eq:coproduto_proj_diag_2}
    \begin{tikzcd}
      A_1
      \arrow[r, "\alpha \circ i_1"]
      \arrow[d, "f_1" swap]
      & X
      \arrow[d, "p"]
      \\ B_1
      \arrow[r, "\beta \circ j_1" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{equation}
  Analogamente, temos também o outro problema de levantamento indicado abaixo, o qual admite uma solução $\psi: B_2 \to X$ graças à projetividade de $f_2$.
  \begin{equation}\label{eq:coproduto_proj_diag_3}
    \begin{tikzcd}
      A_2
      \arrow[r, "\alpha \circ i_2"]
      \arrow[d, "f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_2
      \arrow[r, "\beta \circ j_2" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  A propriedade universal do coproduto dá origem ao morfismo $\langle \varphi,\psi \rangle: B_1 \sqcup B_2 \to X$ caracterizado unicamente por satisfazer as igualdades
  \begin{displaymath}
    \langle \varphi,\psi \rangle \circ j_1 = \varphi \quad \text{e} \quad \langle \varphi,\psi \rangle \circ j_2 = \psi.
  \end{displaymath}
  Afirmamos que este morfismo é a solução para o problema de levantamento \eqref{eq:coproduto_proj_diag_1} considerado inicialmente, ou seja, que ele faz comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A_1 \sqcup A_2
      \arrow[r, "\alpha"]
      \arrow[d, "f_1 \sqcup f_2" swap]
      & X
      \arrow[d, "p"]
      \\ B_1 \sqcup B_2
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "{\langle \varphi,\psi \rangle}" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  Graças à propriedade universal do coproduto, a comutatividade do triângulo superior é equivalente às duas igualdades abaixo
  \begin{displaymath}
    \begin{cases}
      \langle \varphi,\psi \rangle \circ f_1 \sqcup f_2 \circ i_1 = \alpha \circ i_1, \\
      \langle \varphi,\psi \rangle \circ f_1 \sqcup f_2 \circ i_2 = \alpha \circ i_2.
    \end{cases}
  \end{displaymath}
  No primeiro caso temos
  \begin{align*}
    \langle \varphi,\psi \rangle \circ f_1 \sqcup f_2 \circ i_1
    & = \langle \varphi,\psi \rangle \circ j_1 \circ f_1 \\
    & = \varphi \circ f_1 \\
    & = \alpha \circ i_1,
    \tag{por \eqref{eq:coproduto_proj_diag_2}}
  \end{align*}
  e no segundo temos
  \begin{align*}
    \langle \varphi,\psi \rangle \circ f_1 \sqcup f_2 \circ i_2
    & = \langle \varphi,\psi \rangle \circ j_2 \circ f_2 \\
    & = \psi \circ f_2 \\
    & = \alpha \circ i_2.
    \tag{por \eqref{eq:coproduto_proj_diag_3}}
  \end{align*}
  Já a comutatividade do triângulo inferior é equivalente às igualdades
  \begin{displaymath}
    \begin{cases}
      p \circ \langle \varphi,\psi \rangle \circ j_1 = \beta \circ j_1, \\
      p \circ \langle \varphi,\psi \rangle \circ j_2 = \beta \circ j_2.
    \end{cases}
  \end{displaymath}
  A primeira dessas igualdades é válida pois
  \begin{align*}
    p \circ \langle \varphi,\psi \rangle \circ j_1
    & = p \circ \varphi \\
    & = \beta \circ j_1,
    \tag{por \eqref{eq:coproduto_proj_diag_2}}
  \end{align*}
  e a segunda igualdade também é válida pois
  \begin{align*}
    p \circ \langle \varphi,\psi \rangle \circ j_2
    & = p \circ \psi \\
    & = \beta \circ j_2.
    \tag{por \eqref{eq:coproduto_proj_diag_3}}
  \end{align*}
\end{proof}

Agora dualizamos a discussão anterior lidando com morfismos satisfazendo uma propriedade de levantamento à direita.

\begin{defin}\label{defin:morfismo_inj}
  Sejam $\mathsf{C}$ uma categoria e $K \subseteq \Mor(\mathsf{C})$ uma classe qualquer de morfismos.
  Dizemos que um morfismo $g: X \to Y$ \textbf{satisfaz a propriedade de levantamento à direita com relação a $K$} se todo quadrado comutativo como abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[d, "i" swap]
      \arrow[r, "\alpha"]
      & X
      \arrow[d, "g"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  onde $i: A \to B$ é um morfismo qualquer pertencente a $K$, admite uma levantamento, ou seja, existe um morfismo diagonal $\varphi: B \to X$ que faz comutar o diagrama mostrado abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[d, "i" swap]
      \arrow[r, "\alpha"]
      & X
      \arrow[d, "g"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  Dizemos também nesse caso que $g$ é um morfismo \textbf{$K$-injetivo}. 
\end{defin}

\begin{exem}\label{exem:fibs_sao_morfismos_inj}
  Vale uma versão dual do \cref{exem:cofibs_sao_morfismos_proj}.
  O axioma de levantamento (M4) diz que em uma categoria de modelos as fibrações são morfismos injetivos com relação à classe das cofibrações triviais, enquanto as fibrações triviais são morfismos injetivos com relação à classe das cofibrações.
  Veremos mais tarde que, na verdade, as fibrações e as fibrações triviais são, na verdade, completamente caracterizadas por tais propriedades de injetividade.
\end{exem}

\begin{exem}\label{exem:morfismo_zero_inj_sse_modulo_inj}
  O \cref{exem:morfismo_zero_proj_sse_modulo_proj} tambem possui uma versão dual válida para módulos injetivos, ou seja, se consideramos na categoria $R\mathsf{Mod}$ a classe de morfismos $\mathrm{Mono} \subset \Mor(R\mathsf{Mod})$ formada por todos os monomorfismos, vale que o morfismo zero $0_M: M \to \mathbf{0}$ é injetivo com relação a essa classe se, e somente se, o módulo $M$ é injetivo.

  Suponha inicialmente que $M$ seja um $R$-módulo injetivo, e considere o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & M
      \arrow[d, "0_M"]
      \\ B
      \arrow[r, "0_B" swap]
      & \mathbf{0}
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um monomorfismo.
  Sendo $M$ projetivo, podemos estender $\alpha$ ao longo deste monomorfismo, ou seja, existe um morfismo $\varphi: B \to M$ satisfazendo a igualdade $\varphi \circ i = \alpha$.
  ORa, trivialmente também vale a igualdade $0_M \circ \varphi = 0_B$, portanto vale a comutatividade do diagrama abaixo;
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & M
      \arrow[d, "0_M"]
      \\ B
      \arrow[r, "0_B" swap]
      \arrow[ru, dashed, "\varphi" description]
      & \mathbf{0}
    \end{tikzcd}
  \end{displaymath}
  mostrando assim a injetividade do morfismo $0_M$ com relação à classe dos monomorfismos.

  Reciprocamente, suponha que $0_M$ seja um morfismo injetivo.
  Dado um monomorfismo de $R$-módulos $i: A \to B$, e um morfismo $\alpha: A \to M$, como valem as igualdades
  \begin{displaymath}
    0_M \circ \alpha = 0_A = 0_B \circ i,
  \end{displaymath}
  temos o problema de levantamento indicado abaixo, o qual admite uma solução $\varphi: B \to M$ graças à injetividade de $0_M$.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & M
      \arrow[d, "0_M"]
      \\ B
      \arrow[r, "0_B" swap]
      \arrow[ru, dashed, "\varphi" description]
      & \mathbf{0}
    \end{tikzcd}
  \end{displaymath}
  A comutatividade do diagrama implica a igualdade $\varphi \circ i = \alpha$, ou seja, $\varphi$ estende $\alpha$ ao longo do monomorfismo $i$; portanto $M$ é um $R$-módulo injetivo.
\end{exem}

A \cref{prop:props_morfismos_proj} possui sua versão dual para morfismos injetivos a qual apresentamos abaixo.
A demonstração é completamente dual à apresentada anteriormente, mas decidimos incluí-la aqui ainda assim por motivos de completude.
É claro que o leitor -  o qual esperamos não estar sendo obrigado a ler estas notas sob a mira constante de uma arma - pode pular essa demonstração sem nenhum problema.

\begin{prop}\label{prop:props_morfismos_inj}
  Sejam $\mathsf{C}$ uma categoria e $K \subseteq \Mor(\mathsf{C})$ uma classe de morfismos qualquer.
  \begin{enumerate}
    \item[(i)] Todo isomorfismo de $\mathsf{C}$ é $K$-injetivo.
    
    \item[(ii)] Se $g_1: X \to Y$ e $g_2: Y \to Z$ são morfismos $K$-injetivos, então o morfismo composto $g_2 \circ g_1: X \to Z$ é também $K$-injetivo.
    
    \item[(iii)] Se $g_2: X_2 \to Y_2$ é um retrato de $g_1: X_1 \to Y_1$, e $g_1$ é $K$-injetivo, então $g_2$ também é $K$-injetivo.

    \item[(iv)] Se o quadrado comutativo indicado abaixo é um pullback,
    \begin{displaymath}
      \begin{tikzcd}
        X_2
        \arrow[r, "\alpha"]
        \arrow[d, "g_2" swap]
        & X_1
        \arrow[d, "g_1"]
        \\ Y_2
        \arrow[r, "\beta" swap]
        & Y_1
      \end{tikzcd}
    \end{displaymath}
    e $g_1$ é $K$-injetivo, então $g_2$ é também $K$-injetivo.

    \item[(v)] Se $g_1: X_1 \to Y_1$ e $g_2: X_2 \to Y_2$ são morfismos $K$-injetivos, então o morfismo produto $g_1 \times g_2: X_1 \times X_2 \to Y_1 \times Y_2$ é também $K$-injetivo.
  \end{enumerate}
  Em suma, a classe $K\mathrm{Inj} \subseteq \Mor(\mathsf{C})$ formada por todos os morfismos $K$-injetivos contém todos os isomorfismos e é fechada por composições, retrações, pullbacks e produtos.
\end{prop}

\begin{proof}
  (i) Suponha que $g: X \to Y$ seja um isomorfismo e considere o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "g"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um morfismo qualquer pertencente à classe $K$.
  Sendo $g$ um isomorfismo, existe o morfismo inverso $g^{-1}: Y \to X$.
  Afirmamos então que o morfismo composto $g^{-1} \circ \beta: B \to X$ é a solução procurada para o problema acima, ou seja, que ele faz comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "g"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "g^{-1} \circ \beta" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  A comutatividade do triângulo inferior é imediata, enquanto a comutatividade do superior segue das igualdades
  \begin{align*}
    g^{-1} \circ \beta \circ i
    & = g^{-1} \circ g \circ \alpha \\
    & = \id_X \circ \alpha \\
    & = \alpha.
  \end{align*}

  \smallskip
  (ii) Considere o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "g_2 \circ g_1"]
      \\ B
      \arrow[r, "\beta" swap]
      & Z
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um morfismo qualquer pertence à classe $K$.
  A comutatividade acima nos permite obter o outro problema de levantamento abaixo, o qual admite uma solução $\varphi: B \to Y$ graças à injetividade do morfismo $g_2$.
  \begin{equation}\label{eq:comp_inj_diag_2}
    \begin{tikzcd}
      A
      \arrow[r, "g_1 \circ \alpha"]
      \arrow[d, "i" swap]
      & Y
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Z
    \end{tikzcd}
  \end{equation}

  A comutatividade do triângulo superior em \eqref{eq:comp_inj_diag_2} nos permite montar o problema de levantamento abaixo, o qual admite uma solução $\psi: B \to X$ graças à injetividade do morfismo $g_1$.
  \begin{equation}\label{eq:comp_inj_diag_3}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "g_1"]
      \\ B
      \arrow[r, "\varphi" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y
    \end{tikzcd}
  \end{equation}

  Afirmamos que $\psi$ é a solução procurada para o problema de levantamento considerado inicialmente, ou seja, que ele faz comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "g_2 \circ g_1"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, "\psi" description]
      & Z
    \end{tikzcd}
  \end{displaymath}
  A comutatividade do triângulo superior segue diretamente de \eqref{eq:comp_inj_diag_3}, enquanto a comutatividade do diagrama inferior segue da sequência de igualdades
  \begin{align*}
    g_2 \circ g_1 \circ \psi
    & = g_2 \circ \varphi \tag{por \eqref{eq:comp_inj_diag_3}} \\
    & = \beta. \tag{por \eqref{eq:comp_inj_diag_2}}
  \end{align*}

  \smallskip
  (iii) Sendo $g_2$ um retrato de $g_1$, existe um diagrama comutativo como mostrado abaixo.
  \begin{equation}\label{eq:retracao_inj_diag_1}
    \begin{tikzcd}
      X_2
      \arrow[d, "g_2" swap]
      \arrow[r, "s_1"]
      \arrow[rr, bend left=45, "\id_{X_2}"]
      & X_1
      \arrow[r, "r_1"]
      \arrow[d, "g_1"]
      & X_2
      \arrow[d, "g_2"]
      \\ Y_2
      \arrow[r, "s_2" swap]
      \arrow[rr, bend right=45, "\id_{Y_2}" swap]
      & Y_1
      \arrow[r, "r_2" swap]
      & Y_2
    \end{tikzcd}
  \end{equation}

  Considere então o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X_2
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y_2
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um morfismo qualquer pertence à classe $K$.
  Usando a comutatividade do quadrado acima e de \eqref{eq:retracao_inj_diag_1} montamos o problema de levantamento abaixo, o qual admite uma solução $\varphi: B \to X_1$ graças à injetividade de $g_1$.
  \begin{equation}\label{eq:retracao_inj_diag_3}
    \begin{tikzcd}
      A
      \arrow[r, "s_1 \circ \alpha"]
      \arrow[d, "i" swap]
      & X_1
      \arrow[d, "g_1"]
      \\ B
      \arrow[r, "s_2 \circ \beta" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y_1
    \end{tikzcd}
  \end{equation}

  Afirmamos então que o morfismo $r_1 \circ \varphi: B \to X_2$ é a solução procurada para o problema de levantamento considerado inicialmente, ou seja, que o diagrama mostrado abaixo é comutativo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X_2
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, dashed, "r_1 \circ \varphi" description]
      & Y_2
    \end{tikzcd}
  \end{displaymath}
  De fato, no caso do triângulo superior temos as igualdades
  \begin{align*}
    r_1 \circ \varphi \circ i
    & = r_1 \circ s_1 \circ \alpha
    \tag{por \eqref{eq:retracao_inj_diag_3}} \\
    & = \id_{X_2} \circ \alpha
    \tag{por \eqref{eq:retracao_inj_diag_1}} \\
    & = \alpha;
  \end{align*}
  enquanto no caso do triângulo inferior temos as igualdades
  \begin{align*}
    g_2 \circ r_1 \circ \varphi
    & = r_2 \circ g_1 \circ \varphi
    \tag{por \eqref{eq:retracao_inj_diag_1}} \\
    & = r_2 \circ s_2 \circ \beta
    \tag{por \eqref{eq:retracao_inj_diag_3}} \\
    & = \id_{Y_2} \circ \beta
    \tag{por \eqref{eq:retracao_inj_diag_1}} \\
    & = \beta.
  \end{align*}

  \smallskip
  (iv) Considere o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\gamma"]
      \arrow[d, "i" swap]
      & X_2
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "\delta" swap]
      & Y_2
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um morfismo qualquer pertence à classe $K$.
  A estratégia é usarmos a propriedade universal do pullback para obtermos um morfismo do tipo $B \to X_2$ que resolva o problema de levantamento acima, mas para isso precisamos antes de morfismos dos tipos $B \to X_1$ e $B \to Y_2$ satisfazendo certas condições de comutatividade.
  No segundo caso podemos utilizar o morfismo $\delta: B \to Y_2$, mas para o primeiro caso precisamos utilizar a injetividade de $g_1$.
  Montamos então o problema de levantamento indicado abaixo, o qual admite uma solução $\varphi: B \to X_1$ graças à injetividade de $g_1$ mencionada.
  \begin{equation}\label{eq:pullback_inj_diag_2}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha \circ \gamma"]
      \arrow[d, "i" swap]
      & X_1
      \arrow[d, "g_1"]
      \\ B
      \arrow[ru, dashed, "\varphi" description]
      \arrow[r, "\beta \circ \delta" swap]
      & Y_1
    \end{tikzcd}
  \end{equation}

  A comutatividade do triângulo inferior em \eqref{eq:pullback_inj_diag_2} diz precisamente que a ``camada externa'' do diagrama abaixo é commutativa, portanto a propriedade universal do pullback nos fornece um único morfismo $\psi: B \to X_2$ fazendo comutar o diagrama todo.
  \begin{equation}\label{eq:pullback_inj_diag_3}
    \begin{tikzcd}
      B
      \arrow[rd, dashed, "\psi" description]
      \arrow[rrd, bend left=30, "\varphi"]
      \arrow[rdd, bend right=30, "\delta" swap]
      \\ & X_2
      \arrow[r, "\alpha"]
      \arrow[d, "g_2" swap]
      & X_1
      \arrow[d, "g_1"]
      \\ & Y_2
      \arrow[r, "\beta" swap]
      & Y_1
    \end{tikzcd}
  \end{equation}

  Vamos mostrar que $\psi$ é a solução procurada para o problema de levantamento inicial, ou seja, que o diagrama mostrado abaixo é comutativo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\gamma"]
      \arrow[d, "i" swap]
      & X_2
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "\delta" swap]
      \arrow[ru, "\psi" description]
      & Y_2
    \end{tikzcd}
  \end{displaymath}
  A comutatividade do triângulo inferior segue diretamente de \eqref{eq:pullback_inj_diag_3}.
  Já a comutatividade do triângulo superior é um pouco mais sutil.
  Note primeiramente que, graças à proprieade universal do pullback, $\gamma$ é o único morfismo do tipo $A \to X_2$ que faz comutar o diagrama mostrado abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[rd, "\gamma" description]
      \arrow[rrd, bend left=30, "\alpha \circ \gamma"]
      \arrow[rdd, bend right=30, "g_2 \circ \gamma" swap]
      \\ & X_2
      \arrow[r, "\alpha"]
      \arrow[d, "g_2" swap]
      & X_1
      \arrow[d, "g_1"]
      \\ & Y_2
      \arrow[r, "\beta" swap]
      & Y_1
    \end{tikzcd}
  \end{displaymath}
  Veja, entretanto, que o morfismo composto $\psi \circ i: A \to X_2$ também satisfaz tais condições de comutatividade, já que por um lado
  \begin{align*}
    \alpha \circ \psi \circ i
    & = \varphi \circ i
    \tag{por \eqref{eq:pullback_inj_diag_3}} \\
    & = \alpha \circ \gamma;
    \tag{por \eqref{eq:pullback_inj_diag_2}}
  \end{align*}
  enquanto por outro
  \begin{align*}
    g_2 \circ \psi \circ i
    & = \delta \circ i
    \tag{por \eqref{eq:pullback_inj_diag_3}} \\
    &  = g_2 \circ \gamma,
  \end{align*}
  onde a última igualdade segue da comutatividade do próprio diagrama que representa o problema de levantamento considerado inicialmente.
  Ora, segue então da unicidade na propriedade universal do pullback que devemos ter a igualdade $\psi \circ i = \gamma$, como queríamos mostrar.

  \smallskip
  (v) Considere as projeções canônicas $p_1: X_1 \times X_2 \to X_1$, $p_2: X_1 \times X_2 \to X_2$, $q_1: Y_1 \times Y_2 \to Y_1$ e $q_2: Y_1 \times Y_2 \to Y_2$ aos respectivos produtos.
  Dado um problema de levantamento como abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X_1 \times X_2
      \arrow[d, "g_1 \times g_2"]
      \\ B
      \arrow[r, "\beta" swap]
      & Y_1 \times Y_2
    \end{tikzcd}
  \end{displaymath}
  onde $i$ é um morfismo pertencente à classe $K$, obtemos primeiramente o problema de levantamento abaixo, o qual admite uma solução graças à injetividade de $g_1$;
  \begin{equation}\label{eq:produto_inj_diag_2}
    \begin{tikzcd}
      A
      \arrow[r, "p_1 \circ \alpha"]
      \arrow[d, "i" swap]
      & X_1
      \arrow[d, "g_1"]
      \\ B
      \arrow[r, "q_1 \circ \beta" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y_1
    \end{tikzcd}
  \end{equation}
  e também o problema de levantamento abaixo, o qual por sua vez admite uma solução graças à injetividade de $g_2$.
  \begin{equation}\label{eq:produto_inj_diag_3}
    \begin{tikzcd}
      A
      \arrow[r, "p_2 \circ \alpha"]
      \arrow[d, "i" swap]
      & X_2
      \arrow[d, "g_2"]
      \\ B
      \arrow[r, "q_2 \circ \beta" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y_2
    \end{tikzcd}
  \end{equation}

  Afirmamos que o morfismo induzido $(\varphi,\psi): B \to X_1 \times X_2$ é a solução procurada para o problema de levantamento, ou seja, que o diagrama mostrado abaixo é comutativo.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "\alpha"]
      \arrow[d, "i" swap]
      & X_1 \times X_2
      \arrow[d, "g_1 \times g_2"]
      \\ B
      \arrow[r, "\beta" swap]
      \arrow[ru, "{(\varphi,\psi)}" description]
      & Y_1 \times Y_2
    \end{tikzcd}
  \end{displaymath}
  Note que pela unicidade na propriedade universal do produto, a comutatividade do triângulo superior é equivalente à validade das igualdades
  \begin{displaymath}
    \begin{cases}
      p_1 \circ (\varphi,\psi) \circ i = p_1 \circ \alpha, \\
      p_2 \circ (\varphi,\psi) \circ i = p_2 \circ \alpha.
    \end{cases}
  \end{displaymath}
  No primeiro caso temos a sequência de igualdades
  \begin{align*}
    p_1 \circ (\varphi,\psi) \circ i
    & = \varphi \circ i \\
    & = p_1 \circ
    \tag{por \eqref{eq:produto_inj_diag_3}}.
  \end{align*}
  A validade da segunda igualdade segue de um raciocínio completamente análogo.
  Já no caso do triângulo inferior, a propriedade universal do produto mais uma vez garante que sua comutatividade é equivalente à validade duas igualdades
  \begin{displaymath}
    \begin{cases}
      q_1 \circ g_1 \times g_2 \circ (\varphi,\psi) = q_1 \circ \beta, \\
      q_2 \circ g_1 \times g_2 \circ (\varphi,\psi) = q_2 \circ \beta.
    \end{cases}
  \end{displaymath}
  No caso da primeira igualdades temos
  \begin{align*}
    q_1 \circ g_1 \times g_2 \circ (\varphi,\psi)
    & = g_1 \circ p_1 \circ (\varphi,\psi) \\
    & = g_1 \circ \varphi \\
    & = q_1 \circ \beta.
    \tag{por \eqref{eq:produto_inj_diag_2}}
  \end{align*}
  A validade da segunda igualdade segue também por um raciocínio análogo.
\end{proof}

\subsection{Sistemas de fatoração fracos}

Usaremos agora os morfismos projetivos e injetivos introduzidos na seção anterior para definirmos a noção de um sistema de fatoração fraco.
As propriedades estudadas anteriormente nos fornecem imediatamente as principais propriedades dos sistemas de fatoração fracos.
Por fim, veremos a relação de tais sistemas com estruturas de modelos, o que nos permitirá deduzir algumas propriedades de preservação de cofibrações e fibraçõed que serão usadas constantemente ao longo do texto.

\begin{defin}\label{defin:sistema_fatoracao_fraco}
  Um \textbf{sistema de fatoração fraco} em uma categoria $\mathsf{C}$ consiste de um par $(L,R)$, onde $L,\, R \subseteq \Mor(\mathsf{C})$ são duas classes de morfismos, satisfazendo as seguintes condições:
  \begin{enumerate}
  \item[(i)] Todo morfismo $f \in \Mor(\mathsf{C})$ pode ser escrito na forma $f = f_{L} \circ f_{R}$ com $f_{L} \in L$ e $f_{R} \in R$;
    \begin{equation}\label{eq:sistema_fatoracao_fraco_diag}
      \begin{tikzcd}[column sep=1.25cm]
        X
        \arrow[r, "f_{L} \in L"]
        \arrow[rr, bend right=30, "f" swap]
        & Y
        \arrow[r, "f_{R} \in R"]
        & Z
      \end{tikzcd}
    \end{equation}
    
  \item[(ii)] $L$ consiste precisamente dos morfismos $R$-projetivos de $\mathsf{C}$, ou seja, aqueles que satisfazem a propriedade de levantamento à esquerda com relação a $R$;
    
  \item[(iii)] $R$ consiste precisamente dos morfismos $L$-injetivos de $\mathsf{C}$, ou seja, aqueles que satisfazem a propriedade de levantamento à direita com relação a $L$.
  \end{enumerate}
\end{defin}

O resultado abaixo coleta as principais propriedades que os sistemas de fatoração fracos satisfazem, sendo na verdade uma consequência das propriedades satisfeitas por morfismos projetivos e injetivos.

\begin{prop}\label{prop:propriedades_fatoracao_fraca}
  Sejam $\mathsf{C}$ uma categoria e $(L,R)$ um sistema de fatoração fraco em $\mathsf{C}$.
  Valem as seguintes propriedades:
  \begin{enumerate}
  \item Ambas as classes contêm todos os isomorfismos de $\mathsf{C}$ e são fechadas por composições e retratos.
    
  \item A classe $L$ é fechada por pushouts e coprodutos.
    
  \item A classe $R$ é fechada por pullbacks e produtos.
  \end{enumerate}
\end{prop}

\begin{proof}
  As afirmações a respeito de $L$ seguem do fato de $L$ ser a classe dos morfismos $R$-projetivos de $\mathsf{C}$ e das propriedades demonstradas na \cref{prop:props_morfismos_proj}, enquanto as propriedades de $R$ seguem do fato de $R$ ser a classe dos morfismos $L$-injetivos de $\mathsf{C}$ e das propriedades demonstradas na \cref{prop:props_morfismos_inj}.
\end{proof}

Veremos agora como sistemas de fatoração fracos aparecem relacionados a estruturas de modelos.
São estes os sistemas nos quais estaremos realmente interessados.
Antes de enunciarmos o resultado em si, é um bom momento para introduzirmos um lema simples e puramente categórico, porém bastante útil no estudo de categorias de modelos e de sistemas de fatoração fracos em geral.

\begin{lema}[Argumento do retrato]\label{lema:argumento_do_retrato}
  Suponha que um morfismo $f: X \to Y$ em uma categoria qualquer $\mathsf{C}$ possa ser fatorado na forma mostrada abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[rr, "f"]
      \arrow[rd, "i" swap]
      & & Y
      \\ & Z
      \arrow[ru, "p" swap]
    \end{tikzcd}
  \end{displaymath}
  \begin{enumerate}
    \item Se $f$ satisfaz a propriedade de levantamento à esquerda com relação a $p$, então $f$ é um retrato de $i$.

    \item Se $f$ satisfaz a propriedade de levantamento à direita com relação a $i$, então $f$ é um retrato de $p$.
  \end{enumerate}
\end{lema}

\begin{proof}
  1. Veja que é suficiente construirmos um morfismo $\varphi: Y \to Z$ que faça comutar o diagrama mostrado abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "\id_X"]
      \arrow[rr, bend left=45, "\id_X"]
      \arrow[d, "f" swap]
      & X
      \arrow[r, "\id_X"]
      \arrow[d, "i"]
      & X
      \arrow[d, "f"]
      \\ Y
      \arrow[r, dashed, "\varphi" swap]
      \arrow[rr, bend right=45, "\id_Y" swap]
      & Z
      \arrow[r, "p" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  ou seja, $\varphi$ deve satisfazer as igualdades $\varphi \circ f = \id_X$ e $p \circ \varphi = \id_Y$.
  Ora, basta então tomarmos $\varphi$ como sendo uma solução qualquer para o problema de levantamento mostrado abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "i"]
      \arrow[d, "f" swap]
      & Z
      \arrow[d, "p"]
      \\ Y
      \arrow[r, "\id_Y" swap]
      \arrow[ru, dashed, "\varphi" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  a qual certamente existe pois $f$ por hipótese satisfaz a condição de levantamento à esquerda com relação a $p$.

  \smallskip
  2. O leitor já deve imaginar que essa demonstração é dual à anterior.
  Note que neste caso basta construirmos um morfismo $\psi: Z \to X$ que faça comutar o diagrama mostrado abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "i"]
      \arrow[rr, bend left=45, "\id_X"]
      \arrow[d, "f" swap]
      & Z
      \arrow[r, dashed, "\psi"]
      \arrow[d, "p"]
      & X
      \arrow[d, "f"]
      \\ Y
      \arrow[r, "\id_Y" swap]
      \arrow[rr, bend right=45, "\id_Y" swap]
      & Y
      \arrow[r, "\id_Y" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  ou seja, $\psi$ deve satisfazer as igualdades $\psi \circ i = \id_X$ e $f \circ \psi = p$.
  Tomamos $\psi$ como sendo então uma solução qualquer para o problema de levantamento abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "\id_X"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "f"]
      \\ Z
      \arrow[r, "p" swap]
      \arrow[ru, dashed, "\psi" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  a qual existe pois $f$ satisfaz a condição de levantamento à direita com relação a $i$ por hipótese.
\end{proof}

Usando o lema acima podemos demonstrar sem dificuldades que toda estrutura de modelos dá origem a dois sistemas de fatoração fracos envolvendo cofibrações e fibrações.

\begin{prop}\label{prop:fatoracoes_fracas_via_estrutura_de_modelos}
  Seja $(\mathsf{M},\mathcal{W},\mathcal{C},\mathcal{F})$ seja uma categoria de modelos.
  As seguintes afirmações são verdadeiras:
  \begin{enumerate}
  \item $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ define um sistema de fatoração fraco em $\mathsf{M}$;
    
  \item $(\mathcal{C},\mathcal{F} \cap \mathcal{W})$ define um sistema de fatoração fraco em $\mathsf{M}$.
  \end{enumerate}
\end{prop}

\begin{proof}
  1. O axioma de fatoração (M5) garante que todo morfismo de $\mathsf{M}$ pode ser fatorado como uma cofibração trivial seguida de uma fibração, portanto o par $(\mathcal{C} \cap \mathcal{W}, \mathcal{F})$ satisfaz a primeira condição na definição de sistema de fatoração fraco.

  Resta mostrarmos agora as condições de projetividade e injetividade.
  O axioma de levantamento (M4) garante que toda cofibração trivial é projetiva com relação à classe das fibrações, ou seja, vale a inclusão $\mathcal{C} \cap \mathcal{W} \subseteq \mathcal{F}\mathrm{Proj}$, mas precisamos mostrar que a inclusão reversa também é válida.
  Suponha então que $f: X \to Y$ seja um morfismo $\mathcal{F}$-projetivo, e considere uma fatoração
  \begin{displaymath}
    f = p \circ i,
  \end{displaymath}
  onde $i: X \overset{\sim}{\cofib} Z$ é uma cofibração trivial, e $p: Z \fib Y$ é uma fibração.
  A hipótese de projetividade garante que $f$ satisfaça a condição de levantamento à esquerda com relação a $p$, logo $f$ é um retrato de $i$ pelo Argumento do Retrato (\cref{lema:argumento_do_retrato}) e, portanto, uma cofibração trivial também pelo axioma de retração (M3).

  O axioma de levantamento (M4) também mostra que vale a inclusão $\mathcal{F} \subseteq (\mathcal{C} \cap \mathcal{W})\mathrm{Inj}$.
  Agora, seja $f: X \to Y$ um morfismo injetivo com relação à classe das cofibrações triviais.
  Se $f = p \circ i$ é uma fatoração como acima, então $f$ satisfaz a condição de levantamento à direita com relação a $i$, logo $f$ é um retrato de $p$ pelo argumento do retrato novamente e, portanto, uma fibração também pelo axioma de retração (M3).

  \smallskip
  2. O axioma de fatoração (M5) garante que todo morfismo de $f$ possa ser fatorado como uma cofibração seguida de uma fibração trivial, portanto o par $(\mathcal{C},\mathcal{F} \cap \mathcal{W})$ satisfaz a primeira condição na definição de sistema de fatoração fraco.

  Vejamos agora as condições de projetividade e injetividade.
  O axioma de levantamento nos permite concluir que toda cofibração é projetiva com relação à classe de fibrações triviais.
  Reciprocamente, suponha que $f: X \to Y$ seja $(\mathcal{F} \cap \mathcal{W})$-projetivo.
  Podemos fatorar tal morfismos como $f = q \circ j$, onde $j: X \cofib Z$ é uma cofibração, e $q: Z \overset{\sim}{\fib} Y$ é uma fibração trivial.
  Ora, como $f$ satisfaz a propriedade de levantamento à esquerda com relação a $q$, segue do argumento do retrato que $f$ é um retrato de $j$ e, portanto, uma cofibração.

  O axioma de levantamento também nos diz que toda fibração trivial é injetiva com relação à classe das cofibrações.
  Reciprocamente, se $f: X \to Y$ é $\mathcal{C}$-injetivo, podemos considerar uma fatoração $f = q \circ j$ exatamente como acima e usar a hipótese de injetividade juntamente com o argumento do retrato para concluirmos que $f$ é um retrato de $q$ e, portanto, uma fibração trivial também.
\end{proof}

\begin{obs}
  É comum dizer que os resultados da \cref{prop:fatoracoes_fracas_via_estrutura_de_modelos} mostram que a estrutura de uma categoria modelo é \emph{sobredeterminada}, pois o conhecimento de duas das três classes de morfismos $\mathcal{W}$, $\mathcal{C}$ e $\mathcal{F}$ nos permite determinar totalmente a terceira.
  De fato, se conhecemos as classes $\mathcal{W}$ e $\mathcal{C}$, então conhecemos também a classe das cofibrações triviais $\mathcal{C} \cap \mathcal{W}$, e da proposição anterior sabemos que $\mathcal{F}$ pode ser descrita então como a classe dos morfismos que satisfazem a propriedade de levantamento à direita cmo relação a $\mathcal{C} \cap \mathcal{W}$.
  Analogamente, se conhecemos as classes $\mathcal{W}$ e $\mathcal{F}$, então conhecemos a classe das fibrações triviais $\mathcal{F} \cap \mathcal{W}$, e pelo resultado anterior recuperamos $\mathcal{C}$ como a classe dos morfismos que satisfazem a propriedade de levantamento à esquerda com relação a $\mathcal{F} \cap \mathcal{W}$.

  Essa propriedade de sobredeterminação é por vezes utilizada para \emph{definirmos} uma estrutura modelo completa partindo apenas de alguns componentes de sua estrutura.
  Um exemplo onde esse fenômenos ocorre, e que abordaremos em detalhes mais tarde, é no estudo das categorias modelo \emph{cofibrantemente geradas}, onde uma estrutura modelo é gerada a partir de uma coleção de morfismos que queremos considerar como cofibrações triviais.
  Um exemplo concreto é a estrutura modelo usual na categoria $\mathsf{Top}$, onde a classe de cofibrações triviais inicial usada para gerar o resto das estrutura de modelos é o dos mapas $D^{n} \hookrightarrow D^{n} \times I$ incluindo o disco $D^{n}$ na base inferior do cilindro associado.
\end{obs}

Aplicando as propriedades gerais demonstradas na \cref{prop:propriedades_fatoracao_fraca} aos sistemas explícitos construídos na \cref{prop:fatoracoes_fracas_via_estrutura_de_modelos} obtemos as propriedades de preservação abaixo válidas em uma categoria de modelos qualquer.

\begin{corol}\label{corol:props_preservacao_categoria_de_modelos}
  Em uma categoria de modelos qualquer valem as seguintes propriedades:
  \begin{enumerate}
  \item Todo isomorfismo é tanto uma cofibração trivial quanto uma fibração trivial.
    
  \item Cofibrações e cofibrações triviais são preservadas por composições, retrações, pushouts e coprodutos.

  \item Fibrações e fibrações triviais são preservadas por composições, retrações, pullback e produtos.
  \end{enumerate}
\end{corol}

Por fim, temos o resultado simples abaixo mostrando como ``detectar'' equivalências fracas usando outras classes de morfismos.

\begin{lema}\label{lema:detectando_equivalencia_fraca}
  Em uma categoria modelo, um morfismo $f: X \to Y$ é uma equivalência fraca se, e somente se, ele pode ser fatorado como uma cofibração trivial seguida de uma fibração trivial.
\end{lema}

\begin{proof}
  Uma das implicações é simples: se $f$ pode ser fatorado na forma descrita no enunciado, então $f$ é em particular a composição de duas equivalências fracas e, portanto, uma equivalência fraca também.
  Reciprocamente, se $f$ é uma equivalência fraca, pelo axioma de fatoração podemos encontrar uma cofibração trivial $i: X \overset{\sim}{\cofib} \widehat{X}$ e uma fibração $p: \widehat{X} \fib Y$ tais que $f = p \circ i$.
  Ora, como $f$ e $i$ são equivalências fracas, segue do axioma 2-de-3 que $p$ também o é, ou seja, $p$ é uma fibração trivial, e a fatoração $f = p \circ i$ exibe $f$ como uma cofibração trivial seguida de uma fibração trivial.
\end{proof}

Encerramos essa subseção mostrando como os axiomas de uma categoria de modelos podem também ser enunciados em termos de sistemas de fatoração fracos.

\begin{prop}\label{prop:estrutura_de_modelos_via_fatoracao_fraca}
  Sejam $\mathsf{M}$ uma categoria bicompleta e $\mathcal{W},\, \mathcal{C},\, \mathcal{F} \subseteq \Mor(\mathsf{M})$ três classes de morfismos.
  Suponha ainda que a classe $\mathcal{W}$ satisfaça as seguintes condições:
  \begin{enumerate}
  \item[(i)] $\mathcal{W}$ contém todos os isomorfismos;
    
  \item[(ii)] $\mathcal{W}$ satisfaz a propriedade 2-de-3.
  \end{enumerate}
  Nessas condições, as seguintes afirmações são equivalentes:
  \begin{enumerate}
  \item $(\mathsf{M},\mathcal{W},\mathcal{C},\mathcal{F})$ é uma categoria de modelos;
    
  \item $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ e $(\mathcal{C}, \mathcal{F} \cap \mathcal{W})$ são sistemas de fatoração fracos em $\mathsf{M}$.
  \end{enumerate}
\end{prop}

\begin{proof}
  A implicação $1 \implies 2$ é precisamente o conteúdo da \cref{prop:fatoracoes_fracas_via_estrutura_de_modelos}.

  Reciprocamente, suponha que $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ e $(\mathcal{C}, \mathcal{F} \cap \mathcal{W})$ definam sistemas de fatoração fracos em $\mathsf{M}$, e vamos verificar então que os axiomas de uma categoria modelo são satisfeitos.
  
  O axioma de completude (M1) e o axioma 2-de-3 (M2) seguem das hipóteses impostas sobre $\mathcal{W}$ no próprio enunciado.
  Os axiomas de lavantamento (M4) e de fatoração (M5) seguem diretamente das das propriedades que definem os sistemas de fatoração fracos $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ e $(\mathcal{C},\mathcal{F} \cap \mathcal{W})$.

  Resta apenas verificarmos então o axioma de retração (M3).
  Note que a validade deste para as classes de cofibrações e fibrações segue das propriedades demonstradas na \cref{prop:propriedades_fatoracao_fraca}.
  Falta então mostrarmos que a classe das equivalências fracas é também fechada por retrações, e isso será um tanto mais emocionante.
  Suponha que o morfismo $f: X \to Y$ seja retração de uma equivalência fraca $g: A \overset{\sim}{\to} B$ como mostrado no diagrama abaixo.
  \begin{equation}
    \label{eq:estrutura_de_modelos_via_fatoracao_fraca_diag_1}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \arrow[r, "s_{1}"]
      \arrow[rr, bend left=45, "\id_{X}"]
      & A
      \arrow[d, "g", "\sim" {swap,sloped}]
      \arrow[r, "r_{1}"]
      & X
      \arrow[d, "f"]
      \\ Y
      \arrow[r, "s_{2}" swap]
      \arrow[rr, bend right=45, "\id_{Y}" swap]
      & B
      \arrow[r, "r_{2}" swap]
      & Y
    \end{tikzcd}
  \end{equation}

  Suponha inicialmente que $f$ pertença à classe $\mathcal{F}$, de forma que nosso objetivo é então mostrar que nesse caso necessariamente temos $f \in \mathcal{F} \cap \mathcal{W}$.
  Nossa estratégia é então exibir $f$ como o retrato de um outro morfismo que pertença à classe $\mathcal{F} \cap \mathcal{W}$, a qual sabemos ser fechada por retratos pela \cref{prop:propriedades_fatoracao_fraca}.
  
  Aplicando qualquer um dos dois sistemas de fatoração fraca ao morfismo $g$ juntamente com a propriedade 2-de-3 podemos escrever $g = p \circ i$, onde $i: A \to C$ pertence a $\mathcal{C} \cap \mathcal{W}$ e $p: C \to B$ pertence a $\mathcal{F} \cap \mathcal{W}$.
  Afirmamos que $f$ é um retrato de $p$.
  Basta para isso construirmos um morfismo $\theta: C \to X$ fazendo comutar o diagrama abaixo,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "i \circ s_1"]
      \arrow[d, "f" swap]
      \arrow[rr, bend left=45, "\id_X"]
      & C
      \arrow[r, dashed, "\theta"]
      \arrow[d, "p"]
      & X
      \arrow[d, "f"]
      \\ Y
      \arrow[r, "s_2" swap]
      \arrow[rr, bend right=45, "\id_Y" swap]
      & B
      \arrow[r, "r_2" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  ou seja, $\theta$ deve satisfazer as igualdades $f \circ \theta = p \circ r_2$ e $\theta \circ i \circ s_1 = \id_X$.
  Basta então tomarmos $\theta$ como uma solução qualquer do problema de levantamento abaixo, a qual certamente existe pois $i \in \mathcal{C} \cap \mathcal{W}$ e $p \in \mathcal{F}$.
  \begin{displaymath}
    \begin{tikzcd}
      A
      \arrow[r, "r_1"]
      \arrow[d, "i" swap]
      & X
      \arrow[d, "f"]
      \\ C
      \arrow[r, "r_2 \circ p" swap]
      \arrow[ru, dashed, "\theta" description]
      & Y
    \end{tikzcd}
  \end{displaymath}
  Sendo $f$ um retrato de $p$, segue da \cref{prop:propriedades_fatoracao_fraca} que $f \in \mathcal{F} \cap \mathcal{W}$ como queríamos mostrar.

  Voltemos agora ao caso geral onde $f: X \to Y$ é um morfismo qualquer.
  Utilizando o sistema de fatoração fraca $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ podemos escrever $f = q \circ j$, onde $j: X \to Z$ pertence a $\mathcal{C} \cap \mathcal{W}$ e $q: Z \to Y$ pertence a $\mathcal{F}$.
  Note que a propriedade 2-de-3 satisfeita por $\mathcal{W}$ garante que mostrarmos que $f \in \mathcal{W}$ é equivalente a mostrarmos que $q \in \mathcal{W}$.
  Além disso, como já temos $q \in \mathcal{F}$ de antemão, segue do caso anterior que, a fim de concluirmos que $q \in \mathcal{W}$ também, basta mostrarmos que $q$ é um retrato de um morfismo de $\mathcal{W}$; e é isso que faremos agora.

  Lembrando que a categoria $\mathsf{C}$ em questão é por hipótese bicompleta, podemos em particular formar o pushout do diagrama
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "s_{1}"]
      \arrow[d, tail, "j" {swap}, "\sim" {sloped}]
      & A
      \\ Z
    \end{tikzcd}
  \end{displaymath}
  de forma a obtermos o quadrado comutativo mostrado abaixo.
  Como $j \in \mathcal{C} \cap \mathcal{W}$, segue da \cref{prop:propriedades_fatoracao_fraca} que o morfismo $J$ que aparece no diagrama de pushout abaixo pertence à classe $\mathcal{C} \cap \mathcal{W}$ também.
  \begin{equation}
    \label{eq:estrutura_de_modelos_via_fatoracao_fraca_diag_5}
    \begin{tikzcd}
      X
      \arrow[r, "s_{1}"]
      \arrow[d, "j" swap]
      & A
      \arrow[d, "J"]
      \\ Z
      \arrow[r, "S" swap]
      & P
    \end{tikzcd}
  \end{equation}
  Uma primeira aplicação da propriedade universal do pushout fornece um morfismo $\varphi: P \to Z$ fazendo comutar o diagram abaixo.
  \begin{displaymath}
    \begin{tikzcd}
       X
      \arrow[r, "s_{1}"]
      \arrow[d, "j" swap]
      & A
      \arrow[d, "J"]
      \arrow[rdd, bend left=30, "j \circ r_{1}"]
      \\ Z
      \arrow[r, "S" swap]
      \arrow[rrd, bend right=30, "\id_{Z}" swap]
      & P
      \arrow[rd, dashed, "\varphi" description]
      \\ & & Z
    \end{tikzcd}
  \end{displaymath}
  Agora, uma segunda aplicação da propriedade universal do pushout nos fornece o morfismo $\psi: P \to B$ fazendo comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "s_{1}"]
      \arrow[d, "j" swap]
      & A
      \arrow[d, "J"]
      \arrow[rdd, bend left=30, "g"]
      \\ Z
      \arrow[r, "S" swap]
      \arrow[rrd, bend right=30, "s_{2} \circ q" swap]
      & P
      \arrow[rd, dashed, "\psi" description]
      \\ & & B
    \end{tikzcd}
  \end{displaymath}
  Note que esse morfismo $\psi$ pertence à classe $\mathcal{W}$ devido à propriedade 2-de-3, já que $g,\,J \in \mathcal{W}$ e temos a igualdade $\psi \circ J = g$.

  Os morfismos envolvendo o pushout construídos acima podem então ser combinados no diagrammaso comutativo mostrado abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[r, "s_{1}"]
      \arrow[d, "j" swap]
      \arrow[rr, bend left=45, "\id_{X}"]
      \arrow[dd, bend right=45, "f" swap]
      & A
      \arrow[d, "J"]
      \arrow[r, "r_{1}"]
      & X
      \arrow[d, "j"]
      \\ Z
      \arrow[r, "S"]
      \arrow[d, "q" swap]
      & P
      \arrow[d, "\psi"]
      \arrow[r, "\varphi"]
      & Z
      \arrow[d, "q"]
      \\ Y
      \arrow[r, "s_{2}" swap]
      \arrow[rr, bend right=45, "\id_{Y}" swap]
      & B
      \arrow[r, "r_{2}" swap]
      & Y
    \end{tikzcd}
  \end{displaymath}
  
  Temos que justificar ainda de alguma forma a comutatividade do quadrado inferior direito, mas vamos assumir isso momentaneamente e dar continuidade ao argumento.
  Como o morfismo $\varphi$ por construção satisfaz a igualdade $\varphi \circ S = \id_{Z}$, os dois quadrados comutativos inferiores exibem o morfismo $q: Z \to Y$ como um retrato do morfismo $\psi: P \to B$, o qual pertence à classe $\mathcal{W}$, como queríamos mostrar.  

  A fim de fecharmos a lacuna restante no argumento acima, note que a comutatividade do quadrado inferior direito segue imediatamente da unicidade na propriedade universal do pushout, já que os morfismos $q \circ \varphi,\, r_{2} \circ \psi: P \to Y$ ambos fazem comutar o diagrama abaixo.
  \begin{displaymath}
    \begin{tikzcd}[column sep=1.25cm]
       X
      \arrow[r, "s_{1}"]
      \arrow[d, "j"]
      & A
      \arrow[d, "J"]
      \arrow[rdd, bend left=35, "f \circ r_{1}"]
      \\ Z
      \arrow[r, "S" swap]
      \arrow[rrd, bend right=35, "q" swap]
      & P
      \arrow[rd, shift left=1.2, "q \circ \varphi"]
      \arrow[rd, shift right=1.2, "r_{2} \circ \psi" swap]
      \\ & & Y
    \end{tikzcd} \qedhere
  \end{displaymath}

  \subsection{Fatorações funtoriais}

  Nessa subseção formalizamos a noção de uma fatoração funtorial de morfismos em uma categoria.
  O conceito de fatoração funtorial é um tanto peculiar: na teoria ele oferece uma vantagem para descrevermos certas construções, mas na prática o processo de fatoração funtorial pode não ser necessariamente o mais simples ou o mais vantajoso em uma dada situação.
  
  Antes de definirmos uma fatoração propriamente dita, precisamos introduzir um outro tipo de categoria de setas relacionado à categoria $\Arr(\mathsf{C})$ introduzida anteriormente.
  Dada uma categoria $\mathsf{C}$ qualquer, considere a categoria $\mathsf{C}^{[2]}$ cujos objetos são pares $(g,f)$ de \emph{setas componíveis em $\mathsf{C}$}, ou seja, morfismos satisfazendo a condição $\dom(g) = \cod(f)$, situação esta que também representaremos por um diagrama como abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Y
      \arrow[d, "g" swap]
      \\ Z
    \end{tikzcd}
  \end{displaymath}
  
  Os morfismos em $\mathsf{C}^{[2]}$, como esperado, são triplas de morfismos horizontais fazendo comutar os dois quadrados evidentes.
  Mais precisamente, dados dois pares de setas componíveis $(g,f)$ e $(g',f')$, um morfismo do tipo $(g,f) \to (g',f')$ em $\mathsf{C}^{[2]}$ é dado por uma tripla de morfismos
  \begin{displaymath}
    (\alpha: \dom(f) \to \dom(f'),\, \beta: \cod(f) \to \cod(f'),\, \gamma: \cod(g) \to \cod(g'))
  \end{displaymath}
  fazendo comutar o diagrama a seguir.
  \begin{equation}\label{eq:morfismo_setas_componiveis_diag}
    \begin{tikzcd}
      X
      \arrow[r, "\alpha"]
      \arrow[d, "f" swap]
      & X'
      \arrow[d, "f'"]
      \\ Y
      \arrow[r, "\beta"]
      \arrow[d, "g" swap]
      & Y'
      \arrow[d, "g'"]
      \\ Z
      \arrow[r, "\gamma" swap]
      & Z'
    \end{tikzcd}
  \end{equation}
  A composição de morfismos é análoga àquela existente na categoria $\Arr(\mathsf{C})$: colamos os dois pares de quadrados comutativos ao longo da ``aresta'' comum para obtermos um terceiro par de quadrados comutativos representando a composição dos dois morfismos entre setas componíveis.
  
  \begin{obs}
    A notação $\mathsf{C}^{[2]}$ escolhida para denotar a categoria introduzida acima não é por acaso.
    Lembre-se que todo conjunto parcialmente ordenado pode ser encarado como uma categoria.
    Quando fazemos isso com o conjunto parcialmente ordenado $\{0 \leq 1 \leq 2\}$, obtemos uma categoria comumente denotada por $[2]$, e que pode ser visualizada pictoricamente da forma abaixo (omitindo os morfismos identidade).
    \begin{displaymath}
      \begin{tikzcd}
        0
        \arrow[r, "0 \leq 1"]
        \arrow[rr, bend right=25, "0 \leq 2" swap]
        & 1
        \arrow[r, "1 \leq 2"]
        & 2      
      \end{tikzcd}
    \end{displaymath}
  
    A variante da categoria de setas que introduzimos anteriormente é então \emph{precisamente} a categoria de funtores do tipo $[2] \to \mathsf{C}$, o que justifica o uso da notação $\mathsf{C}^{[2]}$.
    Note também que, se no lugar de $[2]$ considerarmos a categoria $[1]$ obtida a partir do conjunto parcialmente ordenado $0 \leq 1$, a qual está representada abaixo,
    \begin{displaymath}
      \begin{tikzcd}
        0
        \arrow[r, "0 \leq 1"]
        & 1
      \end{tikzcd}
    \end{displaymath}
    então a categoria $\mathsf{C}^{[1]}$ formada por funtores do tipo $[1] \to \mathsf{C}$ é exatamente a categoria de setas $\Arr(\mathsf{C})$ introduzida anteriormente.
  \end{obs}
  
  Lembremos que a categoria de setas $\Arr(\mathsf{C})$ vem equipada com os funtores domínio e codomínio $\dom,\, \cod: \Arr(\mathsf{C}) \to \mathsf{C}$.
  Analogamente, a categoria de setas componíveis $\mathsf{C}^{[2]}$ vem equipada com três funtores $d_{0},\, d_{1},\, \comp: \mathsf{C}^{[2]} \to \Arr(\mathsf{C})$ que vamos agora definir.
  O funtor $d_{0}$ nos objetos registra o primeiro morfismo de um par componível, ou seja, $d_{0}(g,f) \coloneqq f$, o que podemos visualizar da forma indicada a seguir.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Y
      \arrow[d, "g" swap]
      \\ Z
    \end{tikzcd}
    \quad
    \overset{d_{0}}{\rightsquigarrow}
    \quad
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Y
    \end{tikzcd}
  \end{displaymath}
  Já nos morfismos, dado um morfismo $(\alpha,\beta,\gamma): (g,f) \to (g',f')$ na categoria $\mathsf{C^{[2]}}$, definimos $d_{0}(\alpha,\beta,\gamma) \coloneqq (\alpha,\beta)$.
  Visualmente, $d_{0}$ seleciona o primeiro quadrado comutativo do par de quadrados comutativos que representa o morfismo $(\alpha,\beta,\gamma)$ em $\mathsf{C}^{[2]}$.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \arrow[r, "\alpha"]
      & X'
      \arrow[d, "f'"]
      \\ Y
      \arrow[d, "g" swap]
      \arrow[r, "\beta"]
      & Y'
      \arrow[d, "g'"]
      \\ Z
      \arrow[r, "\gamma" swap]
      & Z'
    \end{tikzcd}
    \quad \overset{d_{0}}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \arrow[r, "\alpha"]
      & X'
      \arrow[d, "f'"]
      \\ Y
      \arrow[r, "\beta" swap]
      & Y'
    \end{tikzcd}
  \end{displaymath}
  O funtor $d_{1}$ é análogo: nos objetos ele seleciona o segundo morfismo do par componível, logo $d_{1}(g,f) \coloneqq g$, e nos morfismos ele seleciona o segundo quadrado comutativo, de forma que $d_{1}(\alpha,\beta,\gamma) \coloneqq (\beta,\gamma)$.
  Já o funtor $\comp: \mathsf{C}^{[2]} \to \Arr(\mathsf{C})$, como o nome muito sugere, é dado pela composição das duas setas componíveis.
  Dessa forma, nos objetos temos $\comp(g,f) \coloneqq g \circ f$,
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Y
      \arrow[d, "g" swap]
      \\ Z
    \end{tikzcd}
    \quad \overset{\comp}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[d, "g \circ f" swap]
      \\ Z
    \end{tikzcd}
  \end{displaymath}
  enquanto nos morfismos temos $\comp(\alpha,\beta,\gamma) \coloneqq (\alpha,\gamma)$.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \arrow[r, "\alpha"]
      & X'
      \arrow[d, "f'"]
      \\ Y
      \arrow[d, "g" swap]
      \arrow[r, "\beta"]
      & Y'
      \arrow[d, "g'"]
      \\ Z
      \arrow[r, "\gamma" swap]
      & Z'
    \end{tikzcd}
    \quad \overset{\comp}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[d, "g \circ f" swap]
      \arrow[r, "\alpha"]
      & X'
      \arrow[d, "g' \circ f'"]
      \\ Z
      \arrow[r, "\gamma" swap]
      & Z'
    \end{tikzcd}
  \end{displaymath}
  
  Tendo introduzido a categoria de setas componíveis $\mathsf{C}^{[2]}$, podemos enfim definir a noção de uma fatoração funtorial.
  
  \begin{defin}\label{defin:fatoracao_funtorial}
    Uma \textbf{fatoração funtorial} em uma categoria $\mathsf{C}$ é uma seção do funtor de composição $\comp: \mathsf{C^{[2]}} \to \Arr(\mathsf{C})$, ou seja, um funtor $\fac: \Arr(\mathsf{C}) \to \mathsf{C^{[2]}}$ satisfazendo a igualdade $\comp \circ \fac = \id_{\Arr(\mathsf{C})}$.
  \end{defin}
  
  Vamos procurar entender o significado prático da existência de fatorações funtoriais em uma categoria.
  O funtor $\fac$ associa a um morfismo $f: X \to Z$ em $\mathsf{C}$ um par de morfismos \emph{componíveis} $(f_{1},f_{0})$ cuja composição $f_{1} \circ f_{0}$ deve ser igual ao morfismo $f$.
  Essa última igualdade garante então que tenhamos $\dom(f_{0}) = \dom(f) = X$ e $\cod(f_{1}) = \cod(f) = Z$.
  Se denotarmos então $Y \coloneqq \cod(f_{0}) = \dom(f_{1})$, temos a situação indicada abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Z
    \end{tikzcd}
    \quad \overset{\fac}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[d, "f_{0}" swap]
      \arrow[dd, bend left=45, "f_{1} \circ f_{0} = f"]
      \\ Y
      \arrow[d, "f_{1}" swap]
      \\ Z
    \end{tikzcd}
  \end{displaymath}
  Dado outro morfismo $f': X' \to Z'$, e um morfismo $(\alpha: X \to X',\, \gamma: Z \to Z')$ de $f$ para $f'$ em $\Arr(\mathsf{C})$, aplicando o funtor $\fac$ ao morfismo $(\alpha,\beta)$ obtemos um morfismo do tipo $(f_{1},f_{0}) \to (f_{1}',f_{0}')$ em $\mathsf{C}^{[2]}$, ou seja, uma tripla de morfismos $(\varphi: X \to X',\, \psi: Y \to Y',\, \theta: Z \to Z')$ fazendo comutar os dois quadrados adjacentes.
  Note que, como $\fac$ é uma seção de $\comp$, devemos ter $(\alpha,\beta) = \comp(\fac(\alpha,\beta)) = \comp(\varphi,\psi,\theta) = (\varphi,\theta)$, de forma que os morfismos $\alpha$ e $\beta$ são em certo sentido preservados na fatoração funtorial, conforme indicado abaixo.
  \begin{displaymath}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \arrow[r, "\alpha"]
      & X'
      \arrow[d, "f'"]
      \\ Z
      \arrow[r, "\beta" swap]
      & Z'
    \end{tikzcd}
    \quad \overset{\fac}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[r, "\alpha"]
      \arrow[d, "f_{0}" swap]
      & X'
      \arrow[d, "f_{0}'"]
      \\ Y
      \arrow[d, "f_{1}" swap]
      \arrow[r, "\psi"]
      & Y'
      \arrow[d, "f_{1}'"]
      \\ Z
      \arrow[r, "\beta" swap]
      & Z'
    \end{tikzcd}
  \end{displaymath}
  
  Por fim, introduzimos a noção de um sistema de fatoração fraca funtorial, a noção que será de fato de nosso interesse no estudo de categorias de modelos.
  
  \begin{defin}\label{defin:fatoracao_fraca_funtorial}
    Um sistema de fatoração fraco $(L,R)$ em uma categoria $\mathsf{C}$ é dito \textbf{funtorial} se existe um funtor $\fac: \Arr(\mathsf{C}) \to \mathsf{C}^{[2]}$ satisfazendo ass seguintes condições:
    \begin{enumerate}
    \item $\comp \circ \fac = \id_{\Arr(\mathsf{C})}$;
      
    \item $d_{0}(\fac(f)) \in L$ e $d_{1}(\fac(f)) \in R$ para todo $f \in \Arr(\mathsf{C})$.
    \end{enumerate}
  \end{defin}
  
  A primeira condição acima diz simplesmente que o funtor $\fac$ define uma fatoração funtorial em $\mathsf{C}$ no sentido da \cref{defin:fatoracao_funtorial}.
  Já a segunda condição impõe que os morfismos que aparecem nessa fatoração interajam adequadamente com o sistema de fatoração fraco existente: o primeiro morfismo da fatoração deve necessariamente pertence à classe $L$, enquanto o segundo deve necessariamente pertencer à classe $R$.
  \begin{equation}\label{eq:fatoracao_fraca_funtorial_diag}
    \begin{tikzcd}
      X
      \arrow[d, "f" swap]
      \\ Z
    \end{tikzcd}
    \quad \overset{\fac}{\rightsquigarrow} \quad
    \begin{tikzcd}
      X
      \arrow[d, "f_{0} \in L" swap]
      \arrow[dd, bend left=45, "f_{1} \circ f_{0} = f"]
      \\ Y
      \arrow[d, "f_{1} \in R" swap]
      \\ Z
    \end{tikzcd}
  \end{equation}
  
  Muitos autores exigem que os sistemas de fatoração fracos $(\mathcal{C} \cap \mathcal{W},\mathcal{F})$ e $(\mathcal{C},\mathcal{F} \cap \mathcal{W})$ provenientes de uma estrutura de modelos sejam funtoriais no sentido acima.
  Isso nem sempre é estritamente necessário, mas é algo que facilita a nossa vida em alguns momentos.
  Entretanto, como já mencionado anteriormente, as fatorações fornecidas por um funtor de fatoração, especialmente no contexto de estruturas de modelos, são muitas vezes bastante complicadas, tendo então um valor mais teórico do que prático.
  
  É importante ressaltar que, embora nem toda estrutura de modelos admita fatorações funtoriais, uma grande parte delas admite, incluindo aquelas obtidas por meio do famigerado \emph{Argumento do Objeto Pequeno} que estudaremos mais adiante.
\end{proof}